# QSIM 사용 설명서 v1.0.0

## Index
- [1.1 프로그램 실행](#1.1)
- [1.2 프로그램 종료](#1.2)
- [2.1 QSIM.xlsb 화면](#2.1)
  - [2.1.1 화면 구성](#2.1.1)
  - [2.1.2 Navigation Bar](#2.1.2)
    - [2.1.2.1 File](#2.1.2.1)
    - [2.1.2.2 Module](#2.1.2.2)
    - [2.1.2.3 Simulator](#2.1.2.3)
    - [2.1.2.4 Wavemeter](#2.1.2.4)
    - [2.1.2.5 Output](#2.1.2.5)
    - [2.1.2.6 Error](#2.1.2.6)
    - [2.1.2.7 Interactive UI](#2.1.2.7)
    - [2.1.2.8 Help](#2.1.2.8)
  - [2.1.3 회로 편집 테이블](#2.1.3)
    - [2.1.3.1 회로 큐비트 수 설정](#2.1.3.1)
    - [2.1.3.2 회로 편집 - 게이트 입력](#2.1.3.2)
    - [2.1.3.3 회로 편집 - 회로 모듈 입력](#2.1.3.3)
- [2.2 Error settings 화면](#2.2)
  - [2.2.1 화면 구성](#2.2.1)
  - [2.2.2 에러 편집 테이블](#2.2.2 )
    - [2.2.2.1 큐비트 에러 설정](#2.2.2.1)
    - [2.2.2.2 게이트 에러 설정](#2.2.2.2)
    - [2.2.2.3 관측 에러 설정](#2.2.2.3) 
- [2.3 Circuit 화면](#2.3)
  - [2.3.1 화면 구성](#2.3.1)
  - [2.3.2 Navigation Bar](#2.3.2)
    - [2.3.2.1 Confirm](#2.3.2.1)
  - [2.3.3 회로도 테이블](#2.3.3)
    - [2.3.3.1 회로 편집](#2.3.3.1)
- [2.4 Gate Settings 화면](#2.4)
  - [2.4.1 화면 구성](#2.4.1)
  - [2.4.2 Navigation Bar](#2.4.2)
    - [2.4.2.1 File](#2.4.2.1)
    - [2.4.2.2 Gate](#2.4.2.2)
    - [2.4.2.3 Confirm](#2.4.2.3)
  - [2.4.3 게이트 편집 테이블](#2.4.3)
    - [2.4.3.1 게이트 행렬 편집](#2.4.3.1) 
- [3.1 회로 모듈 및 게이트 파일](#3.1)
- [3.2 시뮬레이션 결과물](#3.2)
  - [3.2.1 양자 상태 별 관측 정보](#3.2.1)
  - [3.2.2 큐 비트 별 관측 정보](#3.2.2)
  - [3.2.3 시뮬레이션 정보](#3.2.3) 
- [4.1 양자 기계학습 알고리즘 구현 예제](#4.1)
  - [4.1.1 QeSVM](#4.1.1)

# 1. 프로그램 실행 및 종료 [[위로가기]](#Index)
## 1.1 프로그램 실행 <a id='1.1'></a>
```QSIM.exe```를 실행하였을 때, 이전까지 해당 프로그램을 통해 작업한 모든 사용자 정의 게이트 및 회로 모듈은 초기화 되게 됩니다.

작업을 이어서 진행하고자 할 경우, 게이트 및 회로 모듈을 프로그램 상의 File Load 기능을 통해 불러와야 합니다

프로그램은 실행 후 다음과 같은 두개의 창이 나타납니다.

**1) QSIM.xlsb 화면**

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/4b80b220-edd3-451d-991e-1449116a44cf)

▲ 해당 화면의 조작을 통해서 양자 회로 및 게이트 모듈을 불러오기, 수정, 저장할 수 있으며, 양자 에러를 포함한 회로 연산 시뮬레이션이 가능합니다.

**2) 명령 프롬프트 화면**

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/e842b3f1-fbfc-417f-a00a-7e91b04da86b)

▲ 해당 화면은 프로그램이 사용자와 상호작용하면서 발생시키는 프로그램 동작 이력을 담고 있습니다.

프로그램 사용 중 에러 발생했을 경우, 에러가 발생한 직후의 명령 프롬프트 화면을 에러 상황과 같이 전달해주시면 에러를 확인하는데 용이합니다.

프로그램 실행 시 C:\QSIM 경로에 아래의 파일을 생성합니다.

- ```Excel/Circuit.xlsb``` : 양자 회로도 구성 파일
- ```Excel/Error_Settings.xlsx``` : 양자 에러 구성 파일
- ```Excel/Gate_Settings.xlsb``` : 양자 게이트 구성 파일
- ```Excel/QSIM.xlsb``` : 양자 회로 편집 파일(Main 화면 구성 파일)
- ```Excel/SimResult_Amp.xlsb``` : 양자 회로 연산 결과 파일
- ```Excel/SimResult_State_Vector.csv``` : 큐비트 20개 이상 회로에 대한 양자 상태 파일

해당 파일들에 대한 임의의 수정 및 삭제 시 프로그램 에러가 발생할 수 있습니다.

# 2. 화면 및 기능 구성 [[위로가기]](#Index)
## 2.1 QSIM.Xlsb 화면 <a id='2.1'></a>
### 2.1.1 화면 구성 <a id='2.1.1'></a>
QSIM.xlsb 화면은 프로그램 실행시에 가장 먼저 나타나는 화면으로 프로그램의 모든 설정 화면(Circuit, Gate, Errors_Settings)으로 접근 가능하며, 양자 회로 구성을 지원하는 화면입니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/5aeb0a62-c34d-45a9-b93e-22c4dd7dd730)

1) **네비게이션 바** : 엑셀 상의 QSIM 탭은 File, Module, Simulator, Wavemeter, Output, Error, Interactive UI, Help 그룹으로 구성
2) **회로 편집 테이블** : 큐비트 별 초기 상태 설정 및 회로 내 게이트를 입력 및 수정 지원

### 2.1.2 Navigation Bar <a id='2.1.2'></a>
#### 2.1.2.1 File <a id='2.1.2.1'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/5c32673c-60cc-4c4f-9467-161722702b6a)

File Group은 Load File과 Save File 2개의 버튼으로 구성되어져 있습니다. QSIM.xlsb에서 의미하는 File은 회로 모듈 집합 파일 혹은 회로 모듈 집합 및 게이트 집합 파일입니다.

Load File을 통하여 기존에 작성한 회로 및 게이트 객체를 불러오기 가능하며, 현재 작업 중인 회로 및 게이트 객체를 Save File을 통하여 저장할 수 있습니다.

#### 2.1.2.2 Module <a id='2.1.2.2'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/5a8f186d-66f9-424c-baed-8464f9437d96)

Module Group은 회로 모듈을 관리하는 기능으로 구성되어져 있습니다.

Clear Module버튼은 현재 Name 드롭 다운에서 지정한 회로 모듈을 삭제하는 버튼입니다.

Load Module버튼은 현재 Name 드롭 다운에서 지정한 회로 모듈의 구성정보(큐비트 별 초기 상태, 회로 구성 게이트)를 회로 편집 테이블 상에서 불러오는 버튼입니다.

No.Qubit 드롭 다운은 회로 편집 테이블 상에서의 큐비트 개수를 지정하는 데에 사용됩니다.

회로를 구성할 수 있는 최소 큐비트 수는 1이며, 최대 큐비트 수는 29입니다. (GUI 상에서는 최대 큐비트 수가 29로 제한되나, 파이썬 패키지 상에서는 큐비트 수 제한이 없습니다).

Save Module 버튼을 통하여, 현재 회로 편집 테이블 상에 구성한 회로를 모듈로 저장할 수 있습니다. 

이 때에 Name 텍스트 박스를 통하여, 저장할 회로의 이름을 지정할 수 있습니다.(미기입시 NO NAME #으로 이름 저장) 또한 From/To 텍스트 박스를 통하여 현재 회로 편집 테이블 상에서의 저장 범위를 지정할 수 있습니다. 

범위 설정은 회로 편집 테이블 상의 Register Index열을 기준으로 진행됩니다, 만약 “3/15” 로 입력하였을 경우, Register Index 기준 3행부터 15행까지의 입력 게이트 정보만으로 회로를 구성하게 됩니다.

#### 2.1.2.3 Simulator <a id='2.1.2.3'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/624af3a2-cba4-4d61-b1e6-5b80a8810f2c)

Simulator Group은 회로 편집 테이블 상에 작성된 회로를 기반으로 이진 컴퓨터 상에서의 양자 회로 연산을 수행하기 위한 기능으로 구성되어져 있습니다.

Run 버튼은 Measure, Experiment, Enable errors based on settings 와 같은 시뮬레이션 설정 정보들을 기반으로 양자 회로 연산을 수행하는 버튼입니다.

Measure 텍스트 박스에는 양자 상태를 관측할 큐비트 인덱스를 입력할 수 있습니다. 

입력된 큐비트로 구성 가능한 양자 상태에 대해서만 관측 정보를 기록합니다.

만일 3, 6, 9번째 인덱스 큐비트들로 구성된 상태 정보만을 확인하고 싶을 경우, “3,6,9”로 입력합니다. 

All 체크 박스는 체크 시 Measure 텍스트 박스에 입력된 큐비트 인덱스와 무관하게 회로를 구성하는 모든 큐비트로 구성 가능한 양자 상태에 대하여 관측 정보를 기록합니다.

Experiment 텍스트 박스에는 관측 횟수를 입력합니다. 입력 문자는 정수만 가능하며, 해당 텍스트 박스에 아무런 입력이 없을 시, 1024회 관측을 수행합니다.

Enable errors based on settings 체크 박스를 통하여 시뮬레이션시 양자 오류의 반영 여부를 결정할 수 있습니다. 양자 오류에 대한 설정 방법은 2.1.2.6 ERROR 에서 다룹니다.

#### 2.1.2.4 Wavemeter <a id='2.1.2.4'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/7a75df4e-3e49-469d-bab8-80c67dd9d5e7)

Wavemeter Group은 이미 회로 연산 및 관측을 마친 후, 원하는 상태의 확률 진폭을 조회하기 위한 기능으로 구성되어져 있습니다.

State 텍스트 박스에 확률 진폭을 조회하기 위한 상태를 입력할 수 있습니다. 해당 텍스트박스에는 오로지 0과 1만 입력될 수 있습니다. 

만일 |├ 1000⟩┤의 확률 진폭을 조회하고 싶을 경우, “1000”으로 기입합니다. 이때 입력 순서 중 좌측 첫 번째 원소는 3번째 큐비트의 상태를 의미하며, 우측 첫 번째 원소는 0 번째 큐비트의 상태를 의미합니다.

Amp. 텍스트 박스는 중앙에 위치한 확률 진폭의 실수부 박스와 하단에 위치한 허수부 박스 2개로 이루어져 있습니다. 

만일 회로 연산 및 관측이 선행되지 않았을 경우, “Not Executed”가 출력됩니다. 

적절한 문법을 통해 상태 정보를 조회하지 않을 경우, 혹은 회로를 구성하는 양자 상태보다 더 큰 값을 입력하였을 경우 “Invalid State”가 출력됩니다. 

올바른 상태 정보를 입력하였을 경우 확률 진폭의 실수부가 중앙에 위치한 텍스트 박스에, 확률 진폭의 허수부가 하단에 위치한 텍스트 박스에 출력됩니다.

#### 2.1.2.5 Output <a id='2.1.2.5'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/7c8a7f06-ab26-4c7b-a71b-c5a43d37eca4)

Output Group은 회로 연산 및 관측 시, 출력할 회로 연산 결과물을 지정하는 기능을 담고 있습니다.

State는 양자 상태 별 관측 정보, Qubit은 큐비트 별 관측 정보, Circuit은 회로도를 의미하며, 3.2 시뮬레이션 결과물에서 각각의 결과물에 대한 설명을 확인하실 수 있습니다.

#### 2.1.2.6 Error <a id='2.1.2.6'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/8f0e8a9c-18d5-4dbf-8d7c-49f46172fdb5)

Error Group 은 회로 연산 중에 발생할 수 있는 큐비트 오류, 게이트 오류, 관측 오류 3가지에 대한 설정 및 큐비트 오류 초기화 기능으로 구성되어져 있습니다.

Errors Settings 버튼을 클릭시, 양자 오류 발생 확률 및 그 크기에 대하여 분포 기반으로 설정 가능한 Error_Settings.xlsb 화면으로 이동하게 됩니다.

Qubit Initiation을 통하여 큐비트 오류를 반복적으로 감소시킬 수 있습니다.

Iteration 텍스트 박스에는 발생한 큐비트 오류를 줄일 횟수를 정수로 입력합니다.

Rate 텍스트 박스에는 큐비트 오류에 대한 1회 초기화마다의 감쇠 비율을 0과 1사이의 정수 혹은 실수로 입력합니다.

오류는 1회 초기화마다 현재 오류의 Rate만큼 감소하게 됩니다.

#### 2.1.2.7 Interactive UI <a id='2.1.2.7'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/889b86e2-9802-4f94-b763-9be59a680ffc)

Interactive UI는 회로 구성 과정에서 자주 사용되는 Circuit.xlsb, Gate_Settings.xlsb 화면으로 이동하는 기능을 담고 있습니다.

Circuit 버튼을 클릭하여 회로 편집 테이블 상에 입력된 회로를 시각화 하여 조회할 수 있으며, 시각화 된 회로도를 토대로 회로 편집이 가능합니다.

Gate 버튼을 클릭하여 시뮬레이터 상에서 기본적으로 제공하는 게이트들에 대한 행렬 정보를 확인하실 수 있으며, 사용자 정의 게이트 행렬을 구성할 수 있습니다.

#### 2.1.2.8 HELP <a id='2.1.2.8'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/1e1d7b62-972a-43b1-87cd-b196548db1cf)

Help 버튼을 클릭하여, 시뮬레이터 사용에 관한 도움말 정보를 얻으실 수 있습니다.

### 2.1.3 회로 편집 테이블 <a id='2.1.3'></a>
시뮬레이터는 회로 편집 테이블 상에서 게이트 혹은 회로 모듈 단위의 회로 구성을 지원하고 있으며, 구성 요소는 아래와 같습니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/e0dfac79-414c-4189-917d-68e2f73ee4f6)

- **Qubit Index** : 회로를 구성하는 큐비트 수 및 각 큐비트 별 인덱스를 확인(수정 X)
- **Initial State** : 각 큐비트 별 초기 상태를 드롭 다운을 통하여 0, 1, +, -, R, L 중 하나로 선택
- **Register Index** : 회로를 구성하는 게이트들의 연산 순서를 의미
- **Type** : 회로 상에 게이트 등록 시 Gate, 모듈 등록 시 Module 을 드롭 다운을 통해 선택
- **Target Qubit** : 게이트에 대한 타겟 큐비트 입력(모듈에 대한 입력은 2.1.3.1에 후술) 타겟 큐비트 인덱스가 0 일 경우, “0” 입력, 타겟 큐비트 인덱스가 0, 2 일 경우, “0,2” 입력
- **Control Qubit** : 게이트에 대한 컨트롤 큐비트 입력(모듈에 대한 입력은 2.1.3.1에 후술) 타겟 큐비트 인덱스가 0 일 경우, “0” 입력, 타겟 큐비트 인덱스가 0, 2 일 경우, “0,2” 입력
- **Params** : 파라미터 입력을 요구하는 게이트에 대한 파라미터 입력. 파라미터 입력 순서는 Gate_Settings.xlsb 참조
- **Active** : 회로 연산 및 회로도 상에 해당 Register Index의 게이트 혹은 모듈을 적용할 지 여부 선택

#### 2.1.3.1 회로 큐비트 수 설정 <a id='2.1.3.1'></a>
