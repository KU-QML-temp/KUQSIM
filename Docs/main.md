# QSIM 사용 설명서 v1.0.0

## Index
- [1.1 프로그램 실행](#1.1)
- [1.2 프로그램 종료](#1.2)
- [2.1 QSIM.xlsb 화면](#2.1)
  - [2.1.1 화면 구성](#2.1.1)
  - [2.1.2 Navigation Bar](#2.1.2)
    - [2.1.2.1 File](#2.1.2.1)
    - [2.1.2.2 Module](#2.1.2.2)
    - [2.1.2.3 Simulator](#2.1.2.3)
    - [2.1.2.4 Wavemeter](#2.1.2.4)
    - [2.1.2.5 Output](#2.1.2.5)
    - [2.1.2.6 Error](#2.1.2.6)
    - [2.1.2.7 Interactive UI](#2.1.2.7)
    - [2.1.2.8 Help](#2.1.2.8)
  - [2.1.3 회로 편집 테이블](#2.1.3)
    - [2.1.3.1 회로 큐비트 수 설정](#2.1.3.1)
    - [2.1.3.2 회로 편집 - 게이트 입력](#2.1.3.2)
    - [2.1.3.3 회로 편집 - 회로 모듈 입력](#2.1.3.3)
- [2.2 Error settings 화면](#2.2)
  - [2.2.1 화면 구성](#2.2.1)
  - [2.2.2 에러 편집 테이블](#2.2.2 )
    - [2.2.2.1 큐비트 에러 설정](#2.2.2.1)
    - [2.2.2.2 게이트 에러 설정](#2.2.2.2)
    - [2.2.2.3 관측 에러 설정](#2.2.2.3) 
- [2.3 Circuit 화면](#2.3)
  - [2.3.1 화면 구성](#2.3.1)
  - [2.3.2 Navigation Bar](#2.3.2)
    - [2.3.2.1 Confirm](#2.3.2.1)
  - [2.3.3 회로도 테이블](#2.3.3)
    - [2.3.3.1 회로 편집](#2.3.3.1)
- [2.4 Gate Settings 화면](#2.4)
  - [2.4.1 화면 구성](#2.4.1)
  - [2.4.2 Navigation Bar](#2.4.2)
    - [2.4.2.1 File](#2.4.2.1)
    - [2.4.2.2 Gate](#2.4.2.2)
    - [2.4.2.3 Confirm](#2.4.2.3)
  - [2.4.3 게이트 편집 테이블](#2.4.3)
    - [2.4.3.1 게이트 행렬 편집](#2.4.3.1) 
- [3.1 회로 모듈 및 게이트 파일](#3.1)
- [3.2 시뮬레이션 결과물](#3.2)
  - [3.2.1 양자 상태 별 관측 정보](#3.2.1)
  - [3.2.2 큐 비트 별 관측 정보](#3.2.2)
  - [3.2.3 시뮬레이션 정보](#3.2.3) 
- [4.1 양자 기계학습 알고리즘 구현 예제](#4.1)
  - [4.1.1 QeSVM](#4.1.1)

# 1. 프로그램 실행 및 종료 [[위로가기]](#Index)
## 1.1 프로그램 실행 <a id='1.1'></a>
```QSIM.exe```를 실행하였을 때, 이전까지 해당 프로그램을 통해 작업한 모든 사용자 정의 게이트 및 회로 모듈은 초기화 되게 됩니다.

작업을 이어서 진행하고자 할 경우, 게이트 및 회로 모듈을 프로그램 상의 File Load 기능을 통해 불러와야 합니다

프로그램은 실행 후 다음과 같은 두개의 창이 나타납니다.

**1) QSIM.xlsb 화면**

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/4b80b220-edd3-451d-991e-1449116a44cf)

▲ 해당 화면의 조작을 통해서 양자 회로 및 게이트 모듈을 불러오기, 수정, 저장할 수 있으며, 양자 에러를 포함한 회로 연산 시뮬레이션이 가능합니다.

**2) 명령 프롬프트 화면**

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/e842b3f1-fbfc-417f-a00a-7e91b04da86b)

▲ 해당 화면은 프로그램이 사용자와 상호작용하면서 발생시키는 프로그램 동작 이력을 담고 있습니다.

프로그램 사용 중 에러 발생했을 경우, 에러가 발생한 직후의 명령 프롬프트 화면을 에러 상황과 같이 전달해주시면 에러를 확인하는데 용이합니다.

프로그램 실행 시 C:\QSIM 경로에 아래의 파일을 생성합니다.

- ```Excel/Circuit.xlsb``` : 양자 회로도 구성 파일
- ```Excel/Error_Settings.xlsx``` : 양자 에러 구성 파일
- ```Excel/Gate_Settings.xlsb``` : 양자 게이트 구성 파일
- ```Excel/QSIM.xlsb``` : 양자 회로 편집 파일(Main 화면 구성 파일)
- ```Excel/SimResult_Amp.xlsb``` : 양자 회로 연산 결과 파일
- ```Excel/SimResult_State_Vector.csv``` : 큐비트 20개 이상 회로에 대한 양자 상태 파일

해당 파일들에 대한 임의의 수정 및 삭제 시 프로그램 에러가 발생할 수 있습니다.

## 1.2 프로그램 종료 <a id='1.2'></a>
“QSIM.xlsb" 화면의 우측 상단의 “X” 버튼으로 프로그램을 종료합니다.

그 외 다른 접근 방법을 통한 프로그램 종료는 엑셀 좀비 프로세스를 발생시킬 수 있습니다.

# 2. 화면 및 기능 구성 [[위로가기]](#Index)
## 2.1 QSIM.Xlsb 화면 <a id='2.1'></a>
### 2.1.1 화면 구성 <a id='2.1.1'></a>
QSIM.xlsb 화면은 프로그램 실행시에 가장 먼저 나타나는 화면으로 프로그램의 모든 설정 화면(Circuit, Gate, Errors_Settings)으로 접근 가능하며, 양자 회로 구성을 지원하는 화면입니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/5aeb0a62-c34d-45a9-b93e-22c4dd7dd730)

1) **네비게이션 바** : 엑셀 상의 QSIM 탭은 File, Module, Simulator, Wavemeter, Output, Error, Interactive UI, Help 그룹으로 구성
2) **회로 편집 테이블** : 큐비트 별 초기 상태 설정 및 회로 내 게이트를 입력 및 수정 지원

### 2.1.2 Navigation Bar <a id='2.1.2'></a>
#### 2.1.2.1 File <a id='2.1.2.1'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/5c32673c-60cc-4c4f-9467-161722702b6a)

File Group은 Load File과 Save File 2개의 버튼으로 구성되어져 있습니다. ```QSIM.xlsb```에서 의미하는 File은 회로 모듈 집합 파일 혹은 회로 모듈 집합 및 게이트 집합 파일입니다.

Load File을 통하여 기존에 작성한 회로 및 게이트 객체를 불러오기 가능하며, 현재 작업 중인 회로 및 게이트 객체를 Save File을 통하여 저장할 수 있습니다.

#### 2.1.2.2 Module <a id='2.1.2.2'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/5a8f186d-66f9-424c-baed-8464f9437d96)

Module Group은 회로 모듈을 관리하는 기능으로 구성되어져 있습니다.

Clear Module버튼은 현재 Name 드롭 다운에서 지정한 회로 모듈을 삭제하는 버튼입니다.

Load Module버튼은 현재 Name 드롭 다운에서 지정한 회로 모듈의 구성정보(큐비트 별 초기 상태, 회로 구성 게이트)를 회로 편집 테이블 상에서 불러오는 버튼입니다.

No.Qubit 드롭 다운은 회로 편집 테이블 상에서의 큐비트 개수를 지정하는 데에 사용됩니다.

회로를 구성할 수 있는 최소 큐비트 수는 1이며, 최대 큐비트 수는 29입니다. (GUI 상에서는 최대 큐비트 수가 29로 제한되나, 파이썬 패키지 상에서는 큐비트 수 제한이 없습니다).

Save Module 버튼을 통하여, 현재 회로 편집 테이블 상에 구성한 회로를 모듈로 저장할 수 있습니다. 

이 때에 Name 텍스트 박스를 통하여, 저장할 회로의 이름을 지정할 수 있습니다.(미기입시 NO NAME #으로 이름 저장) 또한 From/To 텍스트 박스를 통하여 현재 회로 편집 테이블 상에서의 저장 범위를 지정할 수 있습니다. 

범위 설정은 회로 편집 테이블 상의 Register Index열을 기준으로 진행됩니다, 만약 “3/15” 로 입력하였을 경우, Register Index 기준 3행부터 15행까지의 입력 게이트 정보만으로 회로를 구성하게 됩니다.

#### 2.1.2.3 Simulator <a id='2.1.2.3'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/624af3a2-cba4-4d61-b1e6-5b80a8810f2c)

Simulator Group은 회로 편집 테이블 상에 작성된 회로를 기반으로 이진 컴퓨터 상에서의 양자 회로 연산을 수행하기 위한 기능으로 구성되어져 있습니다.

Run 버튼은 Measure, Experiment, Enable errors based on settings 와 같은 시뮬레이션 설정 정보들을 기반으로 양자 회로 연산을 수행하는 버튼입니다.

Measure 텍스트 박스에는 양자 상태를 관측할 큐비트 인덱스를 입력할 수 있습니다. 

입력된 큐비트로 구성 가능한 양자 상태에 대해서만 관측 정보를 기록합니다.

만일 3, 6, 9번째 인덱스 큐비트들로 구성된 상태 정보만을 확인하고 싶을 경우, “3,6,9”로 입력합니다. 

All 체크 박스는 체크 시 Measure 텍스트 박스에 입력된 큐비트 인덱스와 무관하게 회로를 구성하는 모든 큐비트로 구성 가능한 양자 상태에 대하여 관측 정보를 기록합니다.

Experiment 텍스트 박스에는 관측 횟수를 입력합니다. 입력 문자는 정수만 가능하며, 해당 텍스트 박스에 아무런 입력이 없을 시, 1024회 관측을 수행합니다.

Enable errors based on settings 체크 박스를 통하여 시뮬레이션시 양자 오류의 반영 여부를 결정할 수 있습니다. 양자 오류에 대한 설정 방법은 2.1.2.6 ERROR 에서 다룹니다.

#### 2.1.2.4 Wavemeter <a id='2.1.2.4'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/7a75df4e-3e49-469d-bab8-80c67dd9d5e7)

Wavemeter Group은 이미 회로 연산 및 관측을 마친 후, 원하는 상태의 확률 진폭을 조회하기 위한 기능으로 구성되어져 있습니다.

State 텍스트 박스에 확률 진폭을 조회하기 위한 상태를 입력할 수 있습니다. 해당 텍스트박스에는 오로지 0과 1만 입력될 수 있습니다. 

만일 |├ 1000⟩┤의 확률 진폭을 조회하고 싶을 경우, “1000”으로 기입합니다. 이때 입력 순서 중 좌측 첫 번째 원소는 3번째 큐비트의 상태를 의미하며, 우측 첫 번째 원소는 0 번째 큐비트의 상태를 의미합니다.

Amp. 텍스트 박스는 중앙에 위치한 확률 진폭의 실수부 박스와 하단에 위치한 허수부 박스 2개로 이루어져 있습니다. 

만일 회로 연산 및 관측이 선행되지 않았을 경우, “Not Executed”가 출력됩니다. 

적절한 문법을 통해 상태 정보를 조회하지 않을 경우, 혹은 회로를 구성하는 양자 상태보다 더 큰 값을 입력하였을 경우 “Invalid State”가 출력됩니다. 

올바른 상태 정보를 입력하였을 경우 확률 진폭의 실수부가 중앙에 위치한 텍스트 박스에, 확률 진폭의 허수부가 하단에 위치한 텍스트 박스에 출력됩니다.

#### 2.1.2.5 Output <a id='2.1.2.5'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/7c8a7f06-ab26-4c7b-a71b-c5a43d37eca4)

Output Group은 회로 연산 및 관측 시, 출력할 회로 연산 결과물을 지정하는 기능을 담고 있습니다.

State는 양자 상태 별 관측 정보, Qubit은 큐비트 별 관측 정보, Circuit은 회로도를 의미하며, 3.2 시뮬레이션 결과물에서 각각의 결과물에 대한 설명을 확인하실 수 있습니다.

#### 2.1.2.6 Error <a id='2.1.2.6'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/8f0e8a9c-18d5-4dbf-8d7c-49f46172fdb5)

Error Group 은 회로 연산 중에 발생할 수 있는 큐비트 오류, 게이트 오류, 관측 오류 3가지에 대한 설정 및 큐비트 오류 초기화 기능으로 구성되어져 있습니다.

Errors Settings 버튼을 클릭시, 양자 오류 발생 확률 및 그 크기에 대하여 분포 기반으로 설정 가능한 ```Error_Settings.xlsb``` 화면으로 이동하게 됩니다.

Qubit Initiation을 통하여 큐비트 오류를 반복적으로 감소시킬 수 있습니다.

Iteration 텍스트 박스에는 발생한 큐비트 오류를 줄일 횟수를 정수로 입력합니다.

Rate 텍스트 박스에는 큐비트 오류에 대한 1회 초기화마다의 감쇠 비율을 0과 1사이의 정수 혹은 실수로 입력합니다.

오류는 1회 초기화마다 현재 오류의 Rate만큼 감소하게 됩니다.

#### 2.1.2.7 Interactive UI <a id='2.1.2.7'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/889b86e2-9802-4f94-b763-9be59a680ffc)

Interactive UI는 회로 구성 과정에서 자주 사용되는 ```Circuit.xlsb```, ```Gate_Settings.xlsb``` 화면으로 이동하는 기능을 담고 있습니다.

Circuit 버튼을 클릭하여 회로 편집 테이블 상에 입력된 회로를 시각화 하여 조회할 수 있으며, 시각화 된 회로도를 토대로 회로 편집이 가능합니다.

Gate 버튼을 클릭하여 시뮬레이터 상에서 기본적으로 제공하는 게이트들에 대한 행렬 정보를 확인하실 수 있으며, 사용자 정의 게이트 행렬을 구성할 수 있습니다.

#### 2.1.2.8 HELP <a id='2.1.2.8'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/1e1d7b62-972a-43b1-87cd-b196548db1cf)

Help 버튼을 클릭하여, 시뮬레이터 사용에 관한 도움말 정보를 얻으실 수 있습니다.

### 2.1.3 회로 편집 테이블 <a id='2.1.3'></a>
시뮬레이터는 회로 편집 테이블 상에서 게이트 혹은 회로 모듈 단위의 회로 구성을 지원하고 있으며, 구성 요소는 아래와 같습니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/e0dfac79-414c-4189-917d-68e2f73ee4f6)

- **Qubit Index** : 회로를 구성하는 큐비트 수 및 각 큐비트 별 인덱스를 확인(수정 X)
- **Initial State** : 각 큐비트 별 초기 상태를 드롭 다운을 통하여 0, 1, +, -, R, L 중 하나로 선택
- **Register Index** : 회로를 구성하는 게이트들의 연산 순서를 의미
- **Type** : 회로 상에 게이트 등록 시 Gate, 모듈 등록 시 Module 을 드롭 다운을 통해 선택
- **Target Qubit** : 게이트에 대한 타겟 큐비트 입력(모듈에 대한 입력은 2.1.3.1에 후술) 타겟 큐비트 인덱스가 0 일 경우, “0” 입력, 타겟 큐비트 인덱스가 0, 2 일 경우, “0,2” 입력
- **Control Qubit** : 게이트에 대한 컨트롤 큐비트 입력(모듈에 대한 입력은 2.1.3.1에 후술) 타겟 큐비트 인덱스가 0 일 경우, “0” 입력, 타겟 큐비트 인덱스가 0, 2 일 경우, “0,2” 입력
- **Params** : 파라미터 입력을 요구하는 게이트에 대한 파라미터 입력. 파라미터 입력 순서는 Gate_Settings.xlsb 참조
- **Active** : 회로 연산 및 회로도 상에 해당 Register Index의 게이트 혹은 모듈을 적용할 지 여부 선택

#### 2.1.3.1 회로 큐비트 수 설정 <a id='2.1.3.1'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/6ad2044a-f0b9-4b3f-8708-06497172ebee)

현재 회로 상의 큐비트 수는 Module Group의 No.Qubit 드롭 다운 목록을 연 뒤, 원하는 수를 클릭하여 설정할 수 있습니다.

해당 작업을 수행할 경우, Qubit Index 및 Initial State 테이블이 선택한 큐비트 수에 맞추어 초기화됩니다.

명시적으로 Qubit Index 및 Initial State 테이블을 수정하여 구성하는 방법 또한 가능합니다.

#### 2.1.3.2 회로 편집 - 게이트 입력 <a id='2.1.3.2'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/1e548c4f-e9f7-4960-8da8-78fe92a18638)

회로의 게이트 및 모듈 입력을 위해 먼저 입력 Type을 지정해줍니다.

입력 Type을 지정하게 되면, 그에 따라 입력 가능한 게이트 목록이 Name 열에 드롭다운 형태로 제공됩니다.

원하는 게이트 입력을 수행한 뒤, 타겟 큐비트 및 컨트롤 큐비트 인덱스를 Target Qubit 및 Control Qubit 열에 입력해줍니다.

입력물이 게이트이며, 싱글 큐비트 게이트 일 경우, Target Qubit에 여러 큐비트 인덱스를 입력할 수 있습니다.

이 때, 입력한 큐비트 모두에 대해 싱글 큐비트 게이트가 가해지게 됩니다.

입력 형식은 예시 상의 Register Index 0행과 같이 띄어쓰기 없이 큐비트 인덱스와 쉼표로만 구성합니다. 위와 같이 입력한 경우, 컨트롤 큐비트는 입력할 수 없습니다.

모든 게이트에 대하여 컨트롤 큐비트는 회로 상의 큐비트 수 범위 내에서 개수에 대한 제약없이 입력 가능합니다.

만약 복수의 컨트롤 큐비트를 설정하고자 하는 경우, Register Index 2행과 같이 띄어쓰기 없이 큐비트 인덱스와 쉼표로만 구성합니다.

만약 큐비트 인덱스 앞에 “-“ 기호를 붙일 경우, 해당 큐비트는 Off Control Qubit이 됩니다.

“-“ 기호를 붙이지 않은 모든 컨트롤 큐비트 인덱스는 On Control Qubit을 의미합니다.

#### 2.1.3.2 회로 편집 - 회로 모듈 입력 <a id='2.1.3.2'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/fa886bba-e697-4d3a-bb86-17dababfb421)

회로 상에 회로 모듈 입력을 위해 먼저 입력 Type을 지정해줍니다. 입력 Type을 지정하게 되면, 그에 따라 입력 가능한 모듈 목록이 Name 열에 드롭다운 형태로 제공됩니다. 

Target Qubit 열에 기입한 큐비트 인덱스들은 현재 회로 구성 상에서 인덱스 조정이 필요한 원 회로 모듈 상에서의 큐비트 인덱스 순서를 의미합니다.

Control Qubit 열에 기입한 큐비트 인덱스들은 Target Qubit 상의 큐비트 인덱스 순서를 기준으로 각 큐비트 인덱스가 현재 회로 구성 상에서 어떠한 인덱스로 변환될 것인지를 나타냅니다.

Target Qubit 및 Control Qubit 열 모두 입력 형식은 예시 상의 Register Index 0행과 같이 띄어쓰기 없이 큐비트 인덱스와 쉼표로만 구성합니다.

회로 모듈에 대한 Params 열의 입력은 지원하지 않습니다.

Active 열을 통해 현재 편집한 회로를 기반으로 회로도 및 실험을 진행할 때에, 해당 회로 모듈의 활성/비활성 여부를 결정합니다.

드롭 다운 목록을 통하여, 활성 여부를 TRUE, FALSE 값으로 설정 가능합니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/f7633fdb-5d16-4509-b9fb-435fd95676c1)

▲ 위는 프로그램의 회로 편집 테이블 상에서의 회로 모듈을 활용한 회로 구성의 예시입니다.

파란색 영역의 게이트 구간을 ‘Diffuser’ 라는 이름의 회로 모듈로써 저장한 뒤, 해당 회로 모듈을 다시 현재의 회로 상에 입력한 모습을 나타내고 있습니다.

해당 회로 구성에 대한 회로도는 다음과 같이 나타납니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/c7e95579-5dba-4ab1-ac4b-c36838fe85ba)

## 2.2 Error settings 화면 <a id='2.2'></a>
### 2.2.1 화면 구성 <a id='2.2.1'></a>
Error Settings 화면은 QSIM.xlsb 화면에서 Error Settings 버튼을 클릭할 경우 팝업 됩니다.

해당 화면 내 위치한 Gate, Qubit, Measurement 테이블 값 수정을 통해, 에러 파라미터를 설정할 수 있습니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/c0a5754d-fa38-4eeb-9efb-fdc1c313f7d0)

### 2.2.2 에러 편집 데이블 <a id='2.2.2'></a>
에러 편집 테이블은 크게 Gate, Qubit, Measurement 테이블로 세분화됩니다.

각각의 테이블은 세 종류의 에러(게이트 에러, 큐비트 에러, 관측 에러)에 대응하여 구성되어집니다.

모든 에러 파라미터에 대한 편집이 후 반드시 해당 엑셀 파일을 저장해야 수정한 에러 파라미터들이 시뮬레이터 상에서 정상 반영되게 됩니다.

#### 2.2.2.1 큐비트 에러 설정 <a id='2.2.2.1'></a>
큐비트 에러는 게이트 연산 전 큐비트의 초기 상태에서 발생하는 오류를 의미합니다.

해당 에러를 적용할 경우, 블로흐 구면 상에서 초기 상태 근처에 실제 상태가 존재하게 됩니다.

오류를 반영한 큐비트 초기 상태는 다음과 같은 산식에 의하여 구성됩니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/7113d2fa-942e-41e5-a7a5-70d1da29a49a)

Qubit 테이블 상에서 큐비트 인덱스 별로 큐비트 에러 설정이 가능합니다.

이때에 Error Rate는 에러가 발생할 확률을 의미합니다.

임의 추출한 0~1 사이의 값이 Error Rate보다 같거나 작을 경우, 에러가 발생합니다.

에러의 크기는 정규분포를 따릅니다. 이때, Error Mean과 Error STD는 해당 정규분포의 모수가 됩니다.

사용자가 지정한 에러의 크기 평균과 에러의 크기 표준편차를 토대로 구성한 정규분포 상에서 에러의 크기를 임의 추출하게 됩니다.

#### 2.2.2.2 게이트 에러 설정 <a id='2.2.2.2'></a>
현재 프로그램은 싱글 큐비트에 가해지는 게이트에 대한 에러만 설정 가능합니다.

이는 회로 연산 시 의도하지 않은 관측 결과를 나타낼 수 있기에 사용을 권장하지 않습니다.

#### 2.2.2.3 관측 에러 설정 <a id='2.2.2.3'></a>
현재 프로그램은 얽힘이 발생하지 않은 단일 큐비트에 대한 에러만 설정 가능합니다.

이는 회로 연산 시 의도하지 않은 관측 결과를 나타낼 수 있기에 사용을 권장하지 않습니다.

## 2.3 Circuit 화면 <a id='2.3'></a>
### 2.3.1 화면 구성 <a id='2.3.1'></a>
Circuit 화면은 QSIM.xlsb 화면 상의 Interative UI Group 내 Circuit 버튼을 클릭할 경우, 팝업 됩니다.

해당 화면을 통하여 시각화된 회로도를 확인하실 수 있으며, 회로 편집 또한 가능합니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/fb71b5c0-bb4b-4dbe-b0fc-940822604d0f)

- **네비게이션 바** : 엑셀 상의 Circuit 탭은 Confirm 그룹으로 구성
- **회로도 테이블** : ```QSIM.xlsb``` 화면 상에 구성한 회로를 기반으로 회로도 구성

### 2.3.2 Navigation Bar <a id='2.3.2'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/959caeeb-1a9b-4612-9318-e6019b2a8d45)

회로 시각화 테이블 상에서 회로를 수정하였을 경우, Confirm Group을 초록색 세모 버튼을 클릭하여 회로 검증을 수행할 수 있습니다. 

버튼 아래의 문자열은 검증 상태를 나타냅니다. 검증 상태 “none” 은 회로 검증을 수행하지 않았을 경우에 표시됩니다.

수정한 회로에 대하여 검증하였을 때, 유효한 회로일 경우 “Valid”, 아닐 경우 “Invalid”를 출력합니다.

유효한 회로는 아래의 기준을 모두 만족합니다.
1. 회로 상의 모든 컨트롤 큐비트 기호 및 게이트가 짝수 행, 열에 위치
2. 한 열에 싱글 큐비트 게이트가 여러 개이며, 컨트롤 큐비트가 존재하지 않음
3. 한 열에 반드시 한 개 이상의 게이트가 존재
4. 게이트 입력은 시뮬레이터 내장 게이트 및 사용자 정의 게이트에 대하여, “[(게이트 이름)]” 형태로 입력(내장 게이트 목록은 2.4.2.2. Gate 에서 소개)

검증 결과 유효한 회로일 경우, QSIM.xlsb 상의 회로 편집 테이블이 수정된 회로로 자동적으로 업데이트됩니다.

### 2.3.3 회로도 테이블 <a id='2.3.3'></a>
회로도 테이블의 A 열은 각 큐비트 인덱스 및 큐비트 별 초기 상태를 나타내며, 1행은 Register Index를 나타냅니다.

● 기호는 On Control Qubit을 의미하며, ○ 기호는 Off Control Qubit을 의미합니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/68aae7ae-5ae7-4661-a9cb-867b016a5d19)

#### 2.3.3.1 회로 편집 <a id='2.3.3.1'></a>

회로도 테이블의 수정을 통하여, QSIM.xlsb 상의 회로 편집 테이블을 수정할 수 있습니다.

회로도 편집은 수정을 원하는 큐비트 인덱스 행 및 Register Index 열에 대하여, 게이트 추가 혹은 삭제, 컨트롤 큐비트 추가 혹은 삭제를 통하여 이루어집니다.

유효한 회로 수정 기준은 2.3.2.1. Confirm 에서 소개하고 있습니다.

회로 수정을 완료한 뒤, Confirm Group의 버튼을 클릭하여, 회로 유효성 검증 및 QSIM.xlsb 상의 회로 편집 테이블에 회로 수정안을 반영할 수 있습니다.

## 2.4 Gate Settings 화면 <a id='2.4'></a>
### 2.4.1 화면 구성 <a id='2.4.1'></a>

Gate Settings 화면은 QSIM.xlsb 화면에서 Interative UI Group의 Gate 버튼을 클릭할 경우, 팝업 됩니다.

해당 화면을 통하여, 내장 게이트 행렬 조회 및 사용자 정의 게이트 생성 및 저장을 수행할 수 있습니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/f3ab64ef-f76d-4c55-ad99-a3a2e97dfada)

- **네비게이션 바** : 엑셀 상의 Gate 탭은 File, Gate, Confirm 그룹으로 구성
- **게이트 편집 테이블** : 파라미터 테이블과 게이트 행렬 구성 테이블로 구성

### 2.4.2 Navigation Bar <a id='2.4.2'></a>
#### 2.4.2.1 File <a id='2.4.2.1'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/c41cf094-cc5e-4efd-9b71-66986a00b5a7)

File Group은 Load File과 Save File 2개의 버튼으로 구성되어져 있습니다.

Gate Settings에서 의미하는 File은 게이트 집합 파일입니다.

Load File을 통하여 기존에 작성한 게이트 객체를 불러오기 가능하며, 현재 작업 중인 게이트 객체를 Save File을 통하여 저장할 수 있습니다.

#### 2.4.2.2 Gate <a id='2.4.2.2'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/899e7403-c997-4b9a-8b81-889458aadf49)

상단의 Name 드롭 다운 목록을 통하여, 현재 프로그램 상에서 지원하는 모든 게이트들에 대하여 확인하실 수 있습니다.

만약 사용자 정의 게이트가 존재할 경우 해당 게이트 또한 목록에 포함됩니다. 

게이트 별 행렬을 조회하고자 할 때에 드롭 다운 목록 내에서 원하는 게이트를 선택 후, Load Gate 버튼을 클릭합니다.

이후 게이트 행렬 구성 테이블에 해당 게이트 행렬이 수식 형태로 나타나게 됩니다.

프로그램에서 기본적으로 지원하는 게이트는 아래와 같습니다.

내장 게이트 : I, SWAP, X, CNOT, Toffoli, Y, H, P, Z, T, S, Rx, Ry, Rz, Rxx, Ryy, Rzz, iSWAP

게이트 행렬 구성 테이블 상에서 구성한 행렬을 시스템 상에 등록하고자 할 때에, 하단의 Name 텍스트 박스에 원하는 게이트 이름을 입력 후, Save Gate를 클릭합니다.

만약, 작성한 게이트 행렬이 유효한 행렬일 경우, Confirm Group의 세모 버튼 아래 문자열이 “Valid”로 변화하며 정상 등록됩니다.

유효하지 않을 경우, “Invalid” 문자열이 나타나며 게이트가 등록되지 않습니다.

Clear Gate버튼을 클릭하여 현재 Name 드롭 다운 상에 나타난 게이트를 시스템 상에서 삭제할 수 있습니다.

#### 2.4.2.3 Confirm <a id='2.4.2.3'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/22cd7643-3720-4a4e-83a2-c054ed7377bf)

게이트 편집 테이블 상에서 게이트 행렬을 구성한 뒤, Confirm Group을 초록색 세모 버튼을 클릭하여 게이트 행렬 검증을 수행할 수 있습니다.

버튼 아래의 문자열은 검증 상태를 나타냅니다.

검증 상태 “none” 은 게이트 행렬 검증을 수행하지 않았을 경우 표시됩니다.

작성한 게이트 행렬에 대하여 검증하였을 때, 유효한 회로일 경우 “Valid”, 아닐 경우 “Invalid”를 출력합니다. 

파라미터를 가지지 않는 게이트 행렬 중 유효한 게이트 행렬은 유니터리 성질을 만족하는 행렬입니다.

파라미터를 가지는 게이트 행렬의 경우 임의의 파라미터를 대입하였을 때 나타나는 행렬을 이용하여 검증을 수행합니다.

임의의 파라미터를 대입하여 생성한 100개의 행렬에 대하여 모든 행렬이 유니터리 성질을 만족할 경우 유효한 행렬이 됩니다. 

### 2.4.3 게이트 편집 테이블 <a id='2.4.3'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/f2ee4e25-1a33-4e50-aace-8a2fec018019)

게이트 편집 테이블은 크게 파라미터 테이블과 게이트 행렬 구성 테이블로 나뉘어집니다.

파라미터 테이블은 파라미터가 존재하는 게이트를 구성할 때의 가이드라인을 제공합니다. No. 열은 파라미터의 순서를 의미합니다. 

게이트 행렬 구성 시 최대 4개의 파라미터를 입력할 수 있습니다.

이렇게 파라미터들을 포함하여 정의한 게이트 행렬을 실제 회로 상에 입력할 경우, QSIM.xlsb 화면의 Params 열에 복수의 파라미터 값을 입력해야 합니다.

이 때에 No.열의 파라미터 순서를 참고하여 값을 입력할 수 있습니다. 게이트 행렬 구성 중 파라미터 입력시에는 Notation 열의 문자열을 참고하여 기입합니다.

게이트 행렬 구성 테이블 상에서 행렬을 작성할 경우, D2 셀을 행렬의 [0, 0] 인덱스로 하여 작성해야 합니다.

#### 2.4.3.1 게이트 행렬 편집 <a id='2.4.3.1'></a>
게이트 행렬 편집 시 각 셀 내 문자열은 수식을 의미합니다.

셀 상에 값 또한 입력 가능하나, 예를 들어 √2에 대한 값을 입력할 경우, 문자열 “sqrt(2)” 보다 입력되는 소수점 아래의 범위가 줄어들게 됩니다.

수식 연산자 혹은 함수에 대하여, 각각 대응되는 문자열은 아래와 같으며, 이외의 연산자 혹은 함수는 지원하지 않습니다.

|NO.|NAME|EXAMPLES (Formulation to String)|
|---|---|---|
|1|Add|x+5 ☞ x+5|
|2|Subtract|x-5 ☞ x-5|
|3|Multiplier|x×5 ☞ x*\5|
|4|Divide|x/5 ☞ x/5|
|5|Multiplier|x^(y+5) ☞ x^(y+5)|
|6|Exponential|e^(x+5) ☞ exp(x+5)|
|7|Cosine|cos⁡〖x+5〗 ☞ cos(x+5)|
|8|Sine|sin⁡〖x+5〗 ☞ sin(x+5)|
|9|Square Root|√(x+5) ☞ sqrt(x+5)|
|10|Image|1+5i ☞ 1+5\*1.j|
|11|Bracket|[x/{2y×(5+12)}] ☞ (x/(2y*(5+12)))|
|12|Pi|1.5π ☞ 1.5*pi|


# 3. 입력 및 출력 파일 형식 [[위로가기]](#Index)
## 3.1 회로 모듈 및 게이트 파일 <a id='3.1'></a>
QSIM.xlsb 화면 및 Gate Settings 화면의 File Group을 통해 저장한 회로 모듈 및 게이트 파일은 명시적인 확장자 명이 존재하지 않으나 Python의 Pickle 파일로 저장됩니다. 

회로 모듈 파일 내에는 현재 프로그램 상에 등록된 모든 회로 모듈 및 사용자 정의 게이트를 포함한 게이트 객체가 저장되며, 게이트 파일 내에는 현재 프로그램 상에 등록된 사용자 정의 게이트를 포함한 게이트 객체가 저장됩니다.

## 3.2 시뮬레이션 결과물 <a id='3.2'></a>
### 3.2.2 양자 상태 별 관측 정보 <a id='3.2.2'></a>
QSIM.xlsb 화면 상에서 Output Group 내 State 라디오 버튼을 클릭한 뒤 시뮬레이션을 진행하였을 경우, 나타나는 결과물입니다.

SimResult_Amp.xlsb 파일 내 state 시트에서 확인하실 수 있으며, 테이블 상의 각 열이 의미하는 바는 다음과 같습니다.

![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/72ebbcf7-806d-47e0-be7f-cb0645ad4725)

- state(bit) : 비트로 표현된 양자 상태(값의 1의 자리 수는 0번째 큐비트의 상태를 의미)
- state(num) : 숫자로 표현된 양자 상태
- amp.real : 양자 상태 별 확률 진폭의 실수부
- amp.image : 양자 상태 별 확률 진폭의 허수부
- count : 양자 상태 별 관측 횟수
- prob : 관측 횟수 기반의 양자 상태 별 관측 확률
- qubit # : 양자 상태 내에서의 큐비트 별 상태

### 3.2.3 큐 비트 별 관측 정보 <a id='3.2.3'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/108ac33c-bedc-4ba5-b194-fad9c967c25e)

- qubit_index : 큐비트 인덱스
- count : 해당 큐비트가 |├ 1⟩┤ 상태인 모든 양자 상태의 관측 횟수의 합
- prob : 관측 횟수 기반의 큐비트 별 관측 확률

### 3.2.4 시뮬레이션 정보 <a id='3.2.4'></a>
![image](https://github.com/KU-QML-temp/KUQSIM/assets/139478568/5158a141-b1c6-4080-bd3e-df40cae4808a)

- circuit name : 비트로 표현된 양자 상태(값의 1의 자리 수는 0번째 큐비트의 상태를 의미
- measure : 숫자로 표현된 양자 상태
- shots : 회로 연산 이후, 관측 횟수
- error rate : 현재 회로 상의 에러 발생 확률
- number of qubits : 현재 회로의 큐비트 수
- circuit depth : 현재 회로의 길이
- running time(sec) : 회로 연산 소요 시간(초, 소수점 3자리에서 반올림)
- memory usage(GB) : 회로 연산 과정 중 발생한 가장 높은 메모리 사용량(GB, 소수점 3자리에서 반올림)

# 4. 양자 기계학습 [[위로가기]](#Index)
## 4.1 양자 기계학습 구현 <a id='4.1'></a>
### 4.1.1 QeSVM <a id='4.1.1'></a>











































